<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>TapCode È¢ÑËßàÂô®</title>
    
    <!-- AIË∞ÉËØï‰∏ä‰∏ãÊñá‰ø°ÊÅØ -->
    <meta name="generator" content="TapCode AI">
    <meta name="framework" content="vanilla-js">
    <meta name="target-platform" content="mobile-web">
    <meta name="build-date" content="2024-01-15">
    <meta name="build-hash" content="dev-latest">
    <meta name="environment" content="development">
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app-container">


        <!-- ÊµÆÂä®Â∑•ÂÖ∑Ê†è -->
        <div class="floating-toolbar" id="toolbar">
            <div class="toolbar-content">
                <div class="url-display">
                    <span class="url-text" id="urlText">https://preview.auv.spark.xd.com/p/md3z7hor</span>
                    <button class="tool-btn" id="copyBtn" title="Â§çÂà∂ÈìæÊé•">
                        <svg viewBox="0 0 24 24" fill="none">
                            <path d="M20 9H11C9.89543 9 9 9.89543 9 11V20C9 21.1046 9.89543 22 11 22H20C21.1046 22 22 21.1046 22 20V11C22 9.89543 21.1046 9 20 9Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M5 15H4C2.89543 15 2 14.1046 2 13V4C2 2.89543 2.89543 2 4 2H13C14.1046 2 15 2.89543 15 4V5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
                <div class="control-buttons">
                    <button class="tool-btn" id="refreshBtn" title="Âà∑Êñ∞">
                        <svg viewBox="0 0 24 24" fill="none">
                            <path d="M1 4V10H7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M23 20V14H17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M20.49 9C19.9828 7.56678 19.1209 6.28392 17.9845 5.27304C16.8482 4.26216 15.4745 3.55814 13.9917 3.22454C12.5089 2.89094 10.9652 2.93797 9.50481 3.36075C8.04437 3.78354 6.71475 4.57075 5.64 5.64L1 10M23 14L18.36 18.36C17.2853 19.4293 15.9556 20.2165 14.4952 20.6392C13.0348 21.062 11.4911 21.1091 10.0083 20.7755C8.52547 20.4419 7.1518 19.7378 6.01547 18.727C4.87913 17.7161 4.01717 16.4332 3.51 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                    <!-- ÂÖ®Â±èÊåâÈíÆÂ∑≤ÈöêËóè -->
                    <button class="tool-btn" id="fullscreenBtn" title="ÂÖ®Â±è" style="display: none;">
                        <svg viewBox="0 0 24 24" fill="none">
                            <path d="M8 3H5C3.89543 3 3 3.89543 3 5V8M21 8V5C21 3.89543 20.1046 3 19 3H16M16 21H19C20.1046 21 21 20.1046 21 19V16M3 16V19C3 20.1046 3.89543 21 5 21H8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                    <button class="tool-btn" id="rotateBtn" title="ÊóãËΩ¨Â±èÂπï">
                        <svg viewBox="0 0 24 24" fill="none">
                            <path d="M7.5 4A1.5 1.5 0 0 0 6 5.5V8H4.5A1.5 1.5 0 0 0 3 9.5V18.5A1.5 1.5 0 0 0 4.5 20H13.5A1.5 1.5 0 0 0 15 18.5V17H16.5A1.5 1.5 0 0 0 18 15.5V5.5A1.5 1.5 0 0 0 16.5 4H7.5Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M15 10L17 12L15 14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M9 6L11 8L9 10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                    <button class="tool-btn" id="menuBtn" title="ËèúÂçï">
                        <svg viewBox="0 0 24 24" fill="none">
                            <path d="M3 12H21M3 6H21M3 18H21" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                    </button>
                </div>
            </div>
        </div>

        <!-- ‰∏ªÂÜÖÂÆπÂå∫ -->
        <main class="main-content">
            <div class="preview-container">
                <div class="iframe-wrapper">
                    <iframe 
                        id="previewFrame" 
                        src=""
                        frameborder="0"
                        scrolling="no"
                        allowfullscreen
                        sandbox="allow-same-origin allow-scripts allow-popups allow-forms allow-top-navigation"
                    ></iframe>
                    
                    <!-- ÂÖ®Â±èÈÄÄÂá∫ÊåâÈíÆ -->
                    <button class="fullscreen-exit-btn" id="fullscreenExitBtn" title="ÈÄÄÂá∫ÂÖ®Â±è">
                        <svg viewBox="0 0 24 24" fill="none">
                            <path d="M18 6L6 18M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                    
                    <div class="loading-overlay" id="loadingOverlay">
                        <div class="loading-container">
                            <div class="loading-spinner"></div>
                            <div class="loading-text">Ê≠£Âú®Âä†ËΩΩÈ¢ÑËßàÂÜÖÂÆπ...</div>
                            <div class="loading-progress">
                                <div class="progress-bar" id="progressBar"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- TapCodeÂØπËØùÊåâÈíÆ -->
        <button class="ai-feedback-btn" id="aiFeedbackBtn" title="‰∏é TapCode ÂØπËØù">
            <svg viewBox="0 0 24 24" fill="none">
                <path d="M21 15C21 15.5304 20.7893 16.0391 20.4142 16.4142C20.0391 16.7893 19.5304 17 19 17H7L3 21V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H19C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V15Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M8 9H16M8 13H12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span class="ai-feedback-text">ÂØπËØù</span>
        </button>

        <!-- TapCodeÂØπËØùËæìÂÖ•Ê°Ü -->
        <div class="ai-feedback-modal" id="aiFeedbackModal">
            <div class="feedback-modal-content">
                <div class="feedback-modal-header">
                    <h3>‰∏é TapCode ÂØπËØù</h3>
                    <button class="close-btn" id="closeFeedbackModal">
                        <svg viewBox="0 0 24 24" fill="none">
                            <path d="M18 6L6 18M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
                <div class="feedback-modal-body">
                    <div class="feedback-info">
                        <p>üí¨ ÊèèËø∞ÊÇ®ÁöÑÈóÆÈ¢òÔºåTapCode ‰ºöÁªìÂêàËøêË°åÁéØÂ¢ÉËß£ÂÜ≥ÈóÆÈ¢ò</p>
                    </div>
                    <div class="feedback-input-group">
                        <label for="feedbackInput">ÈóÆÈ¢òÊèèËø∞</label>
                        <textarea 
                            id="feedbackInput" 
                            placeholder="ËØ∑ËØ¶ÁªÜÊèèËø∞ÊÇ®ÁöÑÈóÆÈ¢òÔºå‰æãÂ¶ÇÔºöÈ°µÈù¢Âä†ËΩΩÂºÇÂ∏∏„ÄÅÂäüËÉΩ‰∏çÊ≠£Â∏∏„ÄÅÁïåÈù¢ÊòæÁ§∫ÈóÆÈ¢òÁ≠â..."
                            rows="6"
                        ></textarea>
                    </div>
                    
                    <div class="feedback-actions">
                        <button class="btn-secondary" id="cancelFeedbackBtn">ÂèñÊ∂à</button>
                        <button class="btn-primary" id="sendFeedbackBtn">
                            <span class="btn-text">
                                <svg viewBox="0 0 24 24" fill="none">
                                    <path d="M22 2L11 13M22 2L15 22L11 13M22 2L2 9L11 13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                ÂèëÈÄÅ
                            </span>
                            <span class="btn-loading" style="display: none;">
                                <svg class="loading-spinner" viewBox="0 0 24 24">
                                    <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-dasharray="31.416" stroke-dashoffset="31.416">
                                        <animate attributeName="stroke-dasharray" dur="2s" values="0 31.416;15.708 15.708;0 31.416" repeatCount="indefinite"/>
                                        <animate attributeName="stroke-dashoffset" dur="2s" values="0;-15.708;-31.416" repeatCount="indefinite"/>
                                    </circle>
                                </svg>
                                ÂèëÈÄÅ‰∏≠...
                            </span>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- ‰æßËæπËèúÂçï -->
        <div class="side-menu" id="sideMenu">
            <div class="menu-header">
                <h3>È¢ÑËßàËÆæÁΩÆ</h3>
                <button class="close-btn" id="closeSideMenu">
                    <svg viewBox="0 0 24 24" fill="none">
                        <path d="M18 6L6 18M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
            </div>
            <div class="menu-content">
                <div class="menu-section">
                    <h4>Âø´Êç∑Êìç‰Ωú</h4>
                    <div class="menu-item" id="homeBtn">
                        <svg viewBox="0 0 24 24" fill="none">
                            <path d="M3 9L12 2L21 9V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M9 22V12H15V22" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <span>È¶ñÈ°µ</span>
                    </div>
                    <div class="menu-item" id="qrCodeBtn">
                        <svg viewBox="0 0 24 24" fill="none">
                            <path d="M3 3H9V9H3V3Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M15 3H21V9H15V3Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M3 15H9V21H3V15Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M15 15H21V21H15V15Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <span>‰∫åÁª¥Á†Å</span>
                    </div>
                </div>
                
                <div class="menu-section">
                    <h4>ÊòæÁ§∫ËÆæÁΩÆ</h4>
                    <div class="menu-item toggle-item">
                        <span>Â∑•ÂÖ∑Ê†è</span>
                        <label class="switch">
                            <input type="checkbox" id="toolbarToggle" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                    <div class="menu-item" id="consoleLogsBtn">
                        <svg viewBox="0 0 24 24" fill="none">
                            <path d="M4 7L4 4C4 3.44772 4.44772 3 5 3L19 3C19.5523 3 20 3.44772 20 4L20 7M4 7L20 7M4 7L4 20C4 20.5523 4.44772 21 5 21L19 21C19.5523 21 20 20.5523 20 20L20 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M9 11L11 13L15 9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <span>ÊéßÂà∂Âè∞Êó•Âøó</span>
                    </div>
                    <div class="menu-item" id="darkModeBtn">
                        <svg viewBox="0 0 24 24" fill="none">
                            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <span>Ê∑±Ëâ≤Ê®°Âºè</span>
                    </div>
                </div>
                
                <div class="menu-section">
                    <h4>ÂÖ≥‰∫é</h4>
                    <div class="menu-item" id="aboutBtn">
                        <svg viewBox="0 0 24 24" fill="none">
                            <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                            <path d="M12 16V12M12 8H12.01" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <span>ÂÖ≥‰∫éÂ∫îÁî®</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- ÊéßÂà∂Âè∞Êó•ÂøóÊü•ÁúãÂô® -->
        <div class="console-logs-modal" id="consoleLogsModal">
            <div class="console-modal-content">
                <div class="console-modal-header">
                    <h3>ÊéßÂà∂Âè∞Êó•Âøó</h3>
                    <button class="close-btn" id="closeConsoleLogsModal">
                        <svg viewBox="0 0 24 24" fill="none">
                            <path d="M18 6L6 18M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
                <div class="console-modal-body">
                    <div class="console-info">
                        <p>üìä ÂΩìÂâçÂ∑≤Êî∂ÈõÜ <span id="consoleLogCount">0</span> Êù°Êó•ÂøóÔºåÂèëÈÄÅÂØπËØùÊó∂‰ºöËá™Âä®ÂåÖÂê´ÊúÄËøë20Êù°‰Ωú‰∏∫‰∏ä‰∏ãÊñá„ÄÇ</p>
                    </div>
                    <div class="console-logs-container" id="consoleLogsViewContainer">
                        <div class="console-logs-empty">ÊöÇÊó†consoleÊó•Âøó</div>
                    </div>
                    <div class="console-actions">
                        <button class="btn-secondary" id="clearConsoleLogsBtn">Ê∏ÖÁ©∫Êó•Âøó</button>
                        <button class="btn-secondary" id="refreshConsoleLogsBtn">Âà∑Êñ∞</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- ÈÅÆÁΩ©Â±Ç -->
        <div class="overlay" id="overlay"></div>
    </div>

    <!-- ÈÖçÁΩÆÊñá‰ª∂ -->
    <script src="config.js"></script>
    
    <!-- Ê†∏ÂøÉÊ®°Âùó -->
    <script src="js/core/preview-core.js"></script>
    <script src="js/core/ui-interaction.js"></script>
    <script src="js/core/app-manager.js"></script>
    
    <!-- ÂäüËÉΩÊ®°Âùó -->
    <script src="js/features/debug-context.js"></script>
    <script src="js/features/console-logger.js"></script>
    <script src="js/features/tapcode-chat.js"></script>
    
    <!-- Â∑•ÂÖ∑Ê®°Âùó -->
    <script src="js/utils/theme-manager.js"></script>
    
    <!-- ‰∏ªÂÖ•Âè£Êñá‰ª∂ -->
    <script src="js/main.js"></script>
    
    <!-- ÊóßÁâàscript.jsÂ§á‰ªΩ -->
    <!-- <script src="script.js"></script> -->
</body>
</html> 